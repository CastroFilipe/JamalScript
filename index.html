<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="styles.css">
  <title>JDE</title>
</head>

<body>

  <nav class="navbar navbar-light bg-dark" style="height: 100px;">
    <a class="navbar-brand" href="#" style="margin-left: 3%;">
      <img src="images/javascript-logo.png" width="90" height="50" class="d-inline-block align-top" alt="" style="margin-right: 8px;">
      <span style="color: white">Jamal Script</span>
    </a>
  </nav>

  <article class="container">
    <form class="row" style="margin-top: 10px">
      <div class="form-group col">
        <label for="exampleFormControlTextarea1">CÃ³digo</label>
        <textarea id="text-code" class="form-control" style="resize: none; height: 200px;"></textarea>
      </div>

      <div class="form-group col">
        <fieldset>
          <label for="exampleFormControlTextarea1">Console</label>
          <textarea type="text" class="form-control" id="text-console" style="background-color: white; resize: none; height:300px;"></textarea>
        </fieldset>
      </div>
    </form>
  </article>

  <div class="container">
      <button type="submit" id="execute-btn" class="btn btn-primary btn-lg btn-outline-info">
        Testar
      </button>
  </div>

  <script>
    const electron = require('electron');

    const { ipcRenderer } = electron;

    function getText( obj ) {
        return obj.textContent ? obj.textContent : obj.innerText;
    }

    const form = document.querySelector('#execute-btn');
    form.addEventListener('click', submitForm);

    function submitForm(e) {
      e.preventDefault();
      const input = document.querySelector('#text-code').value;
      ipcRenderer.send('input:add', input);
    }

    const ul = document.querySelector('#text-console');

    ipcRenderer.on('input:add', function (e, item) {
      const itemText = document.createTextNode(item)
      ul.value = getText(itemText)
    })

  </script>

</html>