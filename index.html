<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
  <title>JDE</title>
</head>

<body>

  <nav class="navbar navbar-light bg-light" style="height: 100px;">

    <a class="navbar-brand" href="#" style="margin-left: 3%;">

      <img src="images/Boostrap_logo.svg" width="30" height="30" class="d-inline-block align-top" alt="" style="margin-right: 8px;"> Jamal Script

    </a>

  </nav>

  <div class="container">

    <form class="row" style="margin-top: 10px">
      <div class="form-group col">

        <label for="exampleFormControlTextarea1">CÃ³digo</label>

        <textarea id="text-code" class="form-control" style="resize: none; height: 200px;"></textarea>

      </div>

      <div class="form-group col">

        <fieldset>

          <label for="exampleFormControlTextarea1">Console</label>

          <textarea type="text" class="form-control" id="text-console" style="background-color: white; resize: none; height:300px;" rows="3"></textarea>
        
        </fieldset>

      </div>

    </form>

  </div>

  <button type="submit" id="execute-btn" class="btn btn-primary btn-lg btn-outline-secondary">Testar</button>

  <script>
    const electron = require('electron');

    const { ipcRenderer } = electron;

    function getText( obj ) {
        return obj.textContent ? obj.textContent : obj.innerText;
    }

    const form = document.querySelector('#execute-btn');
    form.addEventListener('click', submitForm);

    function submitForm(e) {
      e.preventDefault();
      const input = document.querySelector('#text-code').value;
      ipcRenderer.send('input:add', input);
    }

    const ul = document.querySelector('#text-console');

    ipcRenderer.on('input:add', function (e, item) {
      const itemText = document.createTextNode(item)
      ul.value = getText(itemText)
    })

  </script>

</html>